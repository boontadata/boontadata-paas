benjguin@benjguinu1605a:~/sdc1/boontadata-paas/code$ docker cp pyclient/compare.py pyclient:/workdir/ && docker exec -ti pyclient python compare.py
compare V170210c
INFO:Starting new HTTPS connection (1): bd34documentdb.documents.azure.com
INFO:Starting new HTTPS connection (1): bd34documentdb-northeurope.documents.azure.com
height has been deprecated.

showing all lines (not all columns) from aggregated events
----------------------------------------------
   category          window_time  m1_sum_inject_devicetime  m1_sum_downstream  delta_m1_sum_injectdevice_downstream  m1_sum_inject_sendtime  m2_sum_inject_devicetime  m2_sum_downstream  \
0     cat-1  2017-02-11 05:27:20                       304                370                                   -66                     304               1610.135299        2372.596962
4     cat-1  2017-02-11 05:27:25                       701                701                                     0                     701               3573.424927        3573.424927
8     cat-1  2017-02-11 05:27:30                       363                396                                   -33                     363               2846.431007        3227.661838
12    cat-1  2017-02-11 05:27:35                       370                370                                     0                     370               1602.328771        1602.328771
16    cat-1  2017-02-11 05:27:40                       207                277                                   -70                     207               1566.196262        1851.312356
20    cat-1  2017-02-11 05:27:45                       663                663                                     0                     663               3926.923424        3926.923424
24    cat-1  2017-02-11 05:27:50                       805                805                                     0                     805               3250.097383        3250.097383
28    cat-1  2017-02-11 05:27:55                       171                171                                     0                     171                808.723639         808.723639
1     cat-2  2017-02-11 05:27:20                        88                 88                                     0                      88                486.135636         486.135636
5     cat-2  2017-02-11 05:27:25                       704                704                                     0                     704               2997.169879        2997.169879
9     cat-2  2017-02-11 05:27:30                       271                326                                   -55                     271               2678.024078        3132.251960
13    cat-2  2017-02-11 05:27:35                       526                526                                     0                     526               3942.571907        3942.571907
17    cat-2  2017-02-11 05:27:40                       472                507                                   -35                     472               2542.590472        2916.773711
21    cat-2  2017-02-11 05:27:45                       653                653                                     0                     653               3298.311236        3298.311236
25    cat-2  2017-02-11 05:27:50                       507                507                                     0                     507               2700.093613        2700.093613
29    cat-2  2017-02-11 05:27:55                       488                536                                   -48                     488               1794.770622        1884.219697
2     cat-3  2017-02-11 05:27:20                       143                143                                     0                     143                933.596422         933.596422
6     cat-3  2017-02-11 05:27:25                       430                430                                     0                     430               2494.065967        2494.065967
10    cat-3  2017-02-11 05:27:30                       609                609                                     0                     609               2371.855877        2371.855877
14    cat-3  2017-02-11 05:27:35                       549                549                                     0                     549               2294.536461        2294.536461
18    cat-3  2017-02-11 05:27:40                       488                494                                    -6                     488               2456.632111        2936.585185
22    cat-3  2017-02-11 05:27:45                       281                281                                     0                     281               1261.145585        1261.145585
26    cat-3  2017-02-11 05:27:50                       327                327                                     0                     327               2483.542786        2483.542786
30    cat-3  2017-02-11 05:27:55                       169                268                                   -99                     169                614.215116         952.913407
3     cat-4  2017-02-11 05:27:20                       480                500                                   -20                     480               2918.294182        3239.217943
7     cat-4  2017-02-11 05:27:25                       718                785                                   -67                     718               3799.438015        4456.298934
11    cat-4  2017-02-11 05:27:30                       546                595                                   -49                     595               2430.420865        2782.066137
15    cat-4  2017-02-11 05:27:35                       615                615                                     0                     615               2496.681816        2496.681816
19    cat-4  2017-02-11 05:27:40                       792                890                                   -98                     792               3632.393038        4375.560145
23    cat-4  2017-02-11 05:27:45                       588                719                                  -131                     588               1930.570679        2706.026854
27    cat-4  2017-02-11 05:27:50                       542                542                                     0                     542               3204.266344        3204.266344
31    cat-4  2017-02-11 05:27:55                       294                294                                     0                     294               1270.301829        1270.301829

    delta_m2_sum_injectdevice_downstream  m2_sum_inject_sendtime                             device_id
0                          -7.624617e+02             1610.135299  cd82785c-5917-4229-b953-45568792487d
4                          -5.784386e-10             3573.424927  cd82785c-5917-4229-b953-45568792487d
8                          -3.812308e+02             2846.431007  cd82785c-5917-4229-b953-45568792487d
12                         -9.686119e-10             1602.328771  cd82785c-5917-4229-b953-45568792487d
16                         -2.851161e+02             1566.196262  cd82785c-5917-4229-b953-45568792487d
20                          2.592060e-11             3926.923424  cd82785c-5917-4229-b953-45568792487d
24                          3.983587e-10             3250.097383  cd82785c-5917-4229-b953-45568792487d
28                         -4.123422e-10              808.723639  cd82785c-5917-4229-b953-45568792487d
1                           1.954277e-10              486.135636  cd82785c-5917-4229-b953-45568792487d
5                          -2.408342e-09             2997.169879  cd82785c-5917-4229-b953-45568792487d
9                          -4.542279e+02             2678.024078  cd82785c-5917-4229-b953-45568792487d
13                         -7.348717e-10             3942.571907  cd82785c-5917-4229-b953-45568792487d
17                         -3.741832e+02             2542.590472  cd82785c-5917-4229-b953-45568792487d
21                         -6.320988e-10             3298.311236  cd82785c-5917-4229-b953-45568792487d
25                          1.791705e-10             2700.093613  cd82785c-5917-4229-b953-45568792487d
29                         -8.944907e+01             1794.770622  cd82785c-5917-4229-b953-45568792487d
2                          -6.513119e-10              933.596422  cd82785c-5917-4229-b953-45568792487d
6                           2.023626e-10             2494.065967  cd82785c-5917-4229-b953-45568792487d
10                         -1.022727e-09             2371.855877  cd82785c-5917-4229-b953-45568792487d
14                         -1.955414e-10             2294.536461  cd82785c-5917-4229-b953-45568792487d
18                         -4.799531e+02             2456.632111  cd82785c-5917-4229-b953-45568792487d
22                          4.101821e-10             1261.145585  cd82785c-5917-4229-b953-45568792487d
26                         -3.301466e-10             2483.542786  cd82785c-5917-4229-b953-45568792487d
30                         -3.386983e+02              614.215116  cd82785c-5917-4229-b953-45568792487d
3                          -3.209238e+02             2918.294182  cd82785c-5917-4229-b953-45568792487d
7                          -6.568609e+02             3799.438015  cd82785c-5917-4229-b953-45568792487d
11                         -3.516453e+02             2782.066137  cd82785c-5917-4229-b953-45568792487d
15                          3.224159e-10             2496.681816  cd82785c-5917-4229-b953-45568792487d
19                         -7.431671e+02             3632.393038  cd82785c-5917-4229-b953-45568792487d
23                         -7.754562e+02             1930.570679  cd82785c-5917-4229-b953-45568792487d
27                         -1.135504e-09             3204.266344  cd82785c-5917-4229-b953-45568792487d
31                          9.483756e-10             1270.301829  cd82785c-5917-4229-b953-45568792487d

Comparing inject device and downstream for m1_sum
--------------------------------------------------
13 exceptions out of 32

Exceptions are:
            window_time                             device_id category  m1_sum_inject_devicetime  m1_sum_downstream  delta_m1_sum_injectdevice_downstream
0   2017-02-11 05:27:20  cd82785c-5917-4229-b953-45568792487d    cat-1                       304                370                                   -66
3   2017-02-11 05:27:20  cd82785c-5917-4229-b953-45568792487d    cat-4                       480                500                                   -20
7   2017-02-11 05:27:25  cd82785c-5917-4229-b953-45568792487d    cat-4                       718                785                                   -67
8   2017-02-11 05:27:30  cd82785c-5917-4229-b953-45568792487d    cat-1                       363                396                                   -33
9   2017-02-11 05:27:30  cd82785c-5917-4229-b953-45568792487d    cat-2                       271                326                                   -55
11  2017-02-11 05:27:30  cd82785c-5917-4229-b953-45568792487d    cat-4                       546                595                                   -49
16  2017-02-11 05:27:40  cd82785c-5917-4229-b953-45568792487d    cat-1                       207                277                                   -70
17  2017-02-11 05:27:40  cd82785c-5917-4229-b953-45568792487d    cat-2                       472                507                                   -35
18  2017-02-11 05:27:40  cd82785c-5917-4229-b953-45568792487d    cat-3                       488                494                                    -6
19  2017-02-11 05:27:40  cd82785c-5917-4229-b953-45568792487d    cat-4                       792                890                                   -98
23  2017-02-11 05:27:45  cd82785c-5917-4229-b953-45568792487d    cat-4                       588                719                                  -131
29  2017-02-11 05:27:55  cd82785c-5917-4229-b953-45568792487d    cat-2                       488                536                                   -48
30  2017-02-11 05:27:55  cd82785c-5917-4229-b953-45568792487d    cat-3                       169                268                                   -99
benjguin@benjguinu1605a:~/sdc1/boontadata-paas/code$






